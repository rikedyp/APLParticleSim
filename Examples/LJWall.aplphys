⍝ LJWall.aplphys
⍝ Demo APLPhys script
⍝ Simulation parameters
periodic ← 1
∆t ← 0.0032
fixtemp ← 0.01
 
CreateBox 30 30

⍝ Free atom grid
pos←↑,0.1×⍳3 3
vel←¯0.5+?9 2⍴0
vel-⍤1←(+⌿÷≢)vel
acc←9 2⍴0
natoms←≢pos
groups,←9
fixgroups,←0

⍝ Fixed atoms
natoms+←7
pos⍪←↑0.5,¨0.1×⍳7
vel⍪←7 2⍴0
acc⍪←7 2⍴0
groups,←7
fixgroups,←1

density←natoms÷volume

PairStyle 'LJcutOpt' 2.5 0.1
Thermostat ← TempRescale
RunStyle ← Verlet
 
dumpfreq ← 100